<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
    <div th:replace="/fragments/headerFragment :: header" th:remove="tag"></div>
    <link href="../static/css/base.css" rel="stylesheet" th:href="@{/css/base.css}" />
</head>
<body>
	<div th:replace="/fragments/navFragment :: nav" th:remove="tag"></div>
    <div class="container mt-lg-2">
        <div class="row w-100">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a th:href="@{/}">IDVN</a></li>
                    <li class="breadcrumb-item active" aria-current="page">My IDVN</li>
                </ol>
            </nav>
        </div>
        <div th:if="${roles != 'ROLE_NOTIFIER'}" class="row border" style="margin-top: 10px;">
            <div class="col-md-12">
                <h4 style="margin-top: 10px; margin-bottom: 10px;">Kelola Kerentanan</h4>
					<ul>
						<li th:each="vendor : ${vendors}" th:text="${vendor.name}"></li>
					</ul>
			</div>
        </div>
        <div class="row border">
            <div class="col-md-12">
                <h4 style="margin-top: 10px; margin-bottom: 30px;">Kerentanan Terbaru</h4>
            </div>
            <div class="col">
                <table class="table">
                    <tbody>
                        <tr th:each="laporan : ${kerentananTerbaru}">
                            <th style="width: 200px;" scope="row">
                            	<a th:href="@{/kerentanan/my/show/}+${laporan.code}" class="text-secondary" th:text="${laporan.code}"></a>
                            </th>
                            <td>
                            	<a th:href="@{/kerentanan/my/show/}+${laporan.code}" >
	                            	<p th:text="${laporan.overview}" th:remove="tag"></p> [
	                            	<p th:text="${#dates.format(laporan.createdTimeStamp, 'dd MMMM yyyy, hh:mm')}" th:remove="tag"></p> ]
	                            </a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="col-md-12">
                <a th:href="@{/kerentanan/my/terbaru}">Tampil lebih banyak..</a>
            </div>
        </div>
        <div class="row border" style="margin-top: 10px;">
            <div class="col-md-12">
                <h4 style="margin-top: 10px; margin-bottom: 30px;">Tracking Kerentanan</h4>
            </div>
            <div class="col">
                <table class="table">
                    <tbody>
                        <tr th:each="laporan : ${trackingKerentanan}">
                            <th style="width: 200px;" scope="row">
                            	<a th:href="@{/kerentanan/my/show/}+${laporan.code}" class="text-secondary" th:text="${laporan.code}"></a>
                            </th>
                            <td>
                            	<a th:href="@{/kerentanan/my/show/}+${laporan.code}" >
                            		<span th:attr="class=${laporan.status=='PATCHED' ? 'badge badge-primary' : 'badge badge-secondary'}" th:text="${laporan.status}"></span>
	                            	<p th:text="${laporan.overview}" th:remove="tag"></p> [
	                            	<p th:text="${#dates.format(laporan.createdTimeStamp, 'dd MMMM yyyy, hh:mm')}" th:remove="tag"></p> ]
	                            </a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="col-md-12">
                <a th:href="@{/kerentanan/my/tracking}">Tampil lebih banyak..</a>
            </div>
        </div>
        <div class="row border" style="margin-top: 10px;">
            <div class="col-md-12">
                <h4 style="margin-top: 10px; margin-bottom: 30px;">Kerentanan Tidak Valid</h4>
            </div>
            <div class="col">
                <table class="table">
                    <tbody>
                        <tr th:each="laporan : ${kerentananInvalid}">
                            <th style="width: 200px;" scope="row">
                            	<a th:href="@{/kerentanan/my/show/}+${laporan.code}" class="text-secondary" th:text="${laporan.code}"></a>
                            </th>
                            <td>
                            	<a th:href="@{/kerentanan/my/show/}+${laporan.code}" >
	                            	<p th:text="${laporan.overview}" th:remove="tag"></p> [
	                            	<p th:text="${#dates.format(laporan.createdTimeStamp, 'dd MMMM yyyy, hh:mm')}" th:remove="tag"></p> ]
	                            </a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="col-md-12">
                <a th:href="@{/kerentanan/my/invalid}">Tampil lebih banyak..</a>
            </div>
        </div>
    </div>

    <div th:replace="/fragments/footerFragment :: footer" th:remove="tag"></div>

</body>

</html>